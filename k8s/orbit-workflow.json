{
  "name": "Orbit Flow",
  "active": true,
  "nodes": [
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {},
        "openAIApi": "={{ $env.OPENAI_API_KEY_N8N }}"
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [-192, 1760],
      "id": "6eb44b58-4b3a-4fc5-aa45-b0b7cca1f511",
      "name": "OpenAI Chat Model26"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "ì‚¬ìš©ìžì˜ ì§ˆë¬¸ì— ëŒ€í•´ ì¹œì ˆí•˜ê²Œ ë‹µë³€í•´ì¤˜.\nì„¸ ë¬¸ìž¥ ì•ˆ ë„˜ì–´ê°€ê²Œ í•´ì¤˜.\n\nì¶œë ¥ í˜•ì‹:\në‹µë³€ì€ textì— ë‹´ê³ , isSaveëŠ” ë¬´ì¡°ê±´ trueë¡œ ë°˜í™˜í•´\n{\n   \"text\": \"ì¼ì • ì •ë¦¬ ë‚´ìš©\",\n   \"isSave\": true\n}\n\nìž…ë ¥ í…ìŠ¤íŠ¸:\n{{ $json.content }}",
        "messages": {
          "messageValues": [
            {
              "type": "HumanMessagePromptTemplate",
              "message": "={{ $json.content }}"
            }
          ]
        },
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        -192,
        1616
      ],
      "id": "39352912-7e64-4659-9db0-42264e788b73",
      "name": "Basic LLM Chain26"
    },
    {
      "parameters": {
        "jsCode": "const results = [];\n\nfor (const item of $input.all()) {\n  const body = item.json.body || {};\n\n  const userId = body.userId || \"\";\n  const userName = body.userName || \"\";\n  const workspaceId = body.workspaceId || \"\";\n  const content = body.content || \"\";\n  const today = body.today || \"\";\n\n  const text = \n`ìš”ì²­: ${content}\nuserId: ${userId}\nuserName: ${userName}\nworkspaceId: ${workspaceId}\ntoday: ${today}\ntimezone: Asia/Seoul\nlocale: ko-KR`.trim();\n\n  // âœ… ì˜¤ì§ text ë¬¸ìžì—´ë§Œ ë°˜í™˜í•˜ë„ë¡ ë³´ìž¥\n  results.push({ json: { text } });\n}\n\nreturn results;\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1152,
        496
      ],
      "id": "0b397627-b4ff-476f-8132-2f4e8e7f2997",
      "name": "Code in JavaScript9"
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "chatbot-agent",
        "responseMode": "lastNode",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        -1360,
        496
      ],
      "id": "0ccebce6-84bf-4af8-9e37-ef836f20a0f7",
      "name": "ChatbotAgent7",
      "webhookId": "539f6a63-48f3-4cc9-8f15-f7f00a63e81e"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "79e7942a-d927-4d16-a545-ae2a654dcedd",
                    "leftValue": "={{ $json.intent }}",
                    "rightValue": "=PROJECT_SUMMARY",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "ff37046d-8ce1-401f-bdd8-dd5078937fb5",
                    "leftValue": "={{ $json.intent }}",
                    "rightValue": "TASK_LIST",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "86d879fe-a1c7-4fed-80ac-f8af22aedc7d",
                    "leftValue": "={{ $json.intent }}",
                    "rightValue": "UNREAD_CHAT_SUMMARY",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "10a547bd-8df4-4663-9886-bd54923d61f6",
                    "leftValue": "={{ $json.intent }}",
                    "rightValue": "=HISTORY_REQUEST",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "fa4f43a9-8655-47fe-b766-efc9db5755b1",
                    "leftValue": "={{ $json.intent }}",
                    "rightValue": "REGISTER_SCHEDULE",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "c6c76b4e-52d3-4e10-807e-13e3ceb50fcc",
                    "leftValue": "={{ $json.intent }}",
                    "rightValue": "JUST_CHAT",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.3,
      "position": [
        -544,
        448
      ],
      "id": "182d3ef3-31be-4321-8930-7f12505c0d7a",
      "name": "Switch6"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        192,
        240
      ],
      "id": "0820b708-f34f-4020-96db-45abfadd1f7b",
      "name": "OpenAI Chat Model27",
      "credentials": {
        "openAiApi": {
          "id": "r0ak0npkQLwTkh7e",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "ë„ˆëŠ” í”„ë¡œì íŠ¸ ê´€ë¦¬ ì‹œìŠ¤í…œì˜ ì–´ì‹œìŠ¤í„´íŠ¸ì•¼.\nìž…ë ¥ìœ¼ë¡œ ë“¤ì–´ì˜¤ëŠ” í…ìŠ¤íŠ¸ëŠ” í•˜ë‚˜ì˜ í”„ë¡œì íŠ¸ ìƒì„¸ ì •ë³´ì•¼.\nì´ ë‚´ìš©ì„ ì‚¬ìš©ìžê°€ í•œëˆˆì— ë³´ê¸° ì¢‹ê²Œ ìš”ì•½Â·ì •ë¦¬í•´ì„œ ì¶œë ¥í•´ì¤˜.\n\nì¶œë ¥ ê·œì¹™:\n1. ì´ëª¨í‹°ì½˜ì„ ì ì ˆížˆ ì‚¬ìš©í•´ì„œ ì„¹ì…˜ë³„ë¡œ ë³´ê¸° ì‰½ê²Œ êµ¬ë¶„í•´ì¤˜.\n2. í•µì‹¬ ì •ë³´(í”„ë¡œì íŠ¸ëª…, ëª©í‘œ, ì„¤ëª…, ì§„í–‰ë„, ë§ˆê°ì¼, ìƒíƒœ)ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ê°„ê²°í•˜ê²Œ ì •ë¦¬.\n3. í‘œí˜„ì€ ìžì—°ìŠ¤ëŸ½ê²Œ, ë¬¸ìž¥ë³´ë‹¤ëŠ” ìš”ì•½ ì¤‘ì‹¬ìœ¼ë¡œ.\n4. ë¶ˆí•„ìš”í•œ ì„¤ëª…ì€ ë„£ì§€ ë§ê³ , ê¹”ë”í•œ ë¦¬í¬íŠ¸ í˜•íƒœë¡œ êµ¬ì„±.\n\nì˜ˆì‹œ ì¶œë ¥ í˜•ì‹:\n\nðŸ“Œ í”„ë¡œì íŠ¸ëª…: Orbit  \nðŸŽ¯ ëª©í‘œ: ê¶Œí•œ ì‹œìŠ¤í…œ ì•ˆì •í™” ë° êµ¬ì¡° ê°œì„   \nðŸ“ ì„¤ëª…: AccessGroup/AccessDetail ê¸°ë°˜ì˜ ê²€ì¦ ë¡œì§ì„ ë¦¬íŒ©í„°ë§í•˜ê³ , ìžë™ ìŠ¤í†¤ ìƒì„± ê¸°ëŠ¥ì„ ì¶”ê°€  \nðŸ“ˆ ì§„í–‰ë„: 35%  \nâ° ë§ˆê°ì¼: 2025-11-15 18:00  \nðŸš€ ìƒíƒœ: ì§„í–‰ ì¤‘ (PROGRESS)\n\n---\nðŸ§© ìš”ì•½ í•œ ì¤„  \nê¶Œí•œ ê´€ë¦¬ êµ¬ì¡°ë¥¼ ê³ ë„í™”í•˜ê³ , ìžë™í™”ë¥¼ í†µí•´ ì›Œí¬ìŠ¤íŽ˜ì´ìŠ¤ íš¨ìœ¨ì„±ì„ ë†’ì´ëŠ” ì¤‘ì´ì—ìš” ðŸ’ª\n\n---\n\nâš ï¸ ì˜ˆì™¸ ì²˜ë¦¬ ê·œì¹™:\nìž…ë ¥ ë°ì´í„°ì— `error` í•„ë“œê°€ í¬í•¨ë˜ì–´ ìžˆë‹¤ë©´,  \n`error.statusMessage` ë‚´ìš©ì„ ì‚¬ìš©ìžì—ê²Œ ì§ì ‘ ì „ë‹¬í•˜ë“¯ ê°„ë‹¨í•˜ê³  ê³µì†í•˜ê²Œ ì•ˆë‚´í•´ì¤˜.  \në¶ˆí•„ìš”í•œ ê¸°ìˆ  ì •ë³´(ìŠ¤íƒ, ì½”ë“œ ë“±)ëŠ” í¬í•¨í•˜ì§€ ë§ˆ.  \nì˜ˆ:  \n- statusMessageê°€ â€œì—†ëŠ” í”„ë¡œì íŠ¸ìž…ë‹ˆë‹¤.â€ â†’ â— í•´ë‹¹ í”„ë¡œì íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ì–´ìš”.  \n- statusMessageê°€ â€œê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.â€ â†’ ðŸ”’ ì ‘ê·¼ ê¶Œí•œì´ ì—†ì–´ìš”.  \n\nì¦‰, ì˜¤ë¥˜ ë°œìƒ ì‹œ statusMessageë§Œ ìžì—°ìŠ¤ëŸ½ê²Œ ë³€í™˜í•˜ì—¬ ì‚¬ìš©ìžì—ê²Œ ì•ˆë‚´í•˜ëŠ” ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ê³ ,  \nì •ìƒì ì¸ í”„ë¡œì íŠ¸ ì •ë³´ ìš”ì•½ì€ ìƒëžµí•´.\n\n---\n\ní˜•ì‹:\nìš”ì•½í•œê±°ëŠ” textì— ë‹´ê³ , ì˜ˆì™¸ê°€ ì•„ë‹ˆë¼ë©´ isSaveëŠ” trueë¡œ ë°˜í™˜í•´ì¤˜.\nì˜ˆ)\n{\n   \"text\": \"ìš”ì•½ë‚´ìš©\",\n   \"isSave\": true\n}\nì˜ˆì™¸ ë°œìƒ ì‹œ:\n{\n   \"text\": \"ì˜ˆì™¸ë©”ì‹œì§€\",\n   \"isSave\": false\n}\n\nìž…ë ¥ í…ìŠ¤íŠ¸:\nì„±ê³µ ì‹œ: {{ $json.result }}\nì˜ˆì™¸ ì‹œ: {{ $json.error.message }}",
        "messages": {
          "messageValues": [
            {
              "type": "HumanMessagePromptTemplate",
              "message": "={{ $json.result }}"
            },
            {
              "type": "HumanMessagePromptTemplate",
              "message": "={{ $json.error.message }}"
            }
          ]
        },
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        192,
        96
      ],
      "id": "ba1b8530-4d05-4325-8176-717ed425e822",
      "name": "Basic LLM Chain27"
    },
    {
      "parameters": {
        "url": "=http://host.docker.internal:8080/workspace-service/chatbot/project-info",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "workspaceId",
              "value": "={{ $json.entities.workspaceId }}"
            },
            {
              "name": "userId",
              "value": "={{ $json.entities.userId }}"
            },
            {
              "name": "projectName",
              "value": "={{ $json.entities.projectName }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -160,
        96
      ],
      "id": "6545ff07-c857-4acd-9e0b-7b0abe84f359",
      "name": "HTTP Request12",
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "ì£¼ì˜:\ncontentëŠ” ë¬´ìŠ¨ ì¼ì´ ìžˆì–´ë„ ê°€ê³µí•˜ì§€ë§ê³ , ê·¸ëŒ€ë¡œ ì „ë‹¬ í•´.\n\në„ˆëŠ” 'ì¼ì •ê´€ë¦¬ ì‹œìŠ¤í…œ' ë„ë©”ì¸ì˜ ì˜ë„ ë¶„ì„ê¸°ì•¼.\nì‚¬ìš©ìž ìš”ì²­ì„ ë¶„ì„í•´ì„œ ì•„ëž˜ JSON í˜•ì‹ìœ¼ë¡œë§Œ ì¶œë ¥í•´.\nì„¤ëª… ë¬¸ìž¥ ì—†ì´, JSONë§Œ ë°˜í™˜í•´.\n\n{{ $json.text }} ì•ˆì˜ today(í˜„ìž¬ ë‚ ì§œ), timezone, localeí‚¤ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ í™œìš©í•´.\n\"ì˜¤ëŠ˜\", \"ë‚´ì¼\", \"ëª¨ë ˆ\" ë“±ì˜ ë‚ ì§œ í‘œí˜„ì€ ë°˜ë“œì‹œ ì´ ë‚ ì§œì™€ íƒ€ìž„ì¡´ì„ ê¸°ì¤€ìœ¼ë¡œ ê³„ì‚°í•´.\nì˜ˆ: ì˜¤ëŠ˜ì´ 2025-10-16ì´ë©´, \"ë‚´ì¼\"ì€ 2025-10-17, \"ëª¨ë ˆ\"ëŠ” 2025-10-18.\n\nê°€ëŠ¥í•œ intent:\n- PROJECT_SUMMARY (í”„ë¡œì íŠ¸ ìš”ì•½)\n  ì˜ˆì‹œ: \"í”„ë¡œì íŠ¸ëª… ì •ë¦¬í•´ì¤˜\", \"í”„ë¡œì íŠ¸ ìš”ì•½ ë³´ì—¬ì¤˜\"\n  â†’ ì´ ì¸í…íŠ¸ì¼ ë•ŒëŠ” ë¬´ì¡°ê±´ ì¶œë ¥ê°’ì— \"projectName\": \"í”„ë¡œì íŠ¸ëª…\" ì†ì„±ì„ í¬í•¨í•´ì•¼ë¼. í”„ë¡œì íŠ¸ ì´ë¦„ì´ ì¶”ë¡  ê°€ëŠ¥í•˜ë©´ ê·¸ê±¸ë¡œ ë„£ê³ , ì—†ê±°ë‚˜, ìµœê·¼ í”„ë¡œì íŠ¸ ìš”ì•½í•´ë‹¬ë¼ê±°ë‚˜ í•˜ë©´ \"current\"ë¡œ ë„£ì–´ì¤˜.\n- TASK_LIST (ë‚´ í•  ì¼ ëª©ë¡)\n  ì˜ˆì‹œ: \"ë‚˜ ì˜¤ëŠ˜ í•  ì¼ ë­ì•¼?\", \"ë‚´ì¼ ì¼ì • ì•Œë ¤ì¤˜\", \"í•´ì•¼ í•  ì¼ ë³´ì—¬ì¤˜\"\n  â†’ ë‚ ì§œ ê´€ë ¨ í‘œí˜„(ì˜¤ëŠ˜, ë‚´ì¼, ëª¨ë ˆ ë“±)ì€ ë°˜ë“œì‹œ endTime í•„ë“œì— ISO 8601 í˜•ì‹(ì˜ˆ: 2025-10-17T00:00:00)ìœ¼ë¡œ ë³€í™˜í•´ ë„£ì–´.\n  â†’ ë‚ ì§œ í‘œí˜„ì´ ì „í˜€ ì—†ìœ¼ë©´ endTimeì„ 2125-01-01T00:00:00ìœ¼ë¡œ ì„¤ì •í•´. (ì¦‰, 100ë…„ ë’¤)\n- UNREAD_CHAT_SUMMARY (ì•ˆ ì½ì€ ì±„íŒ… ìš”ì•½)\n  ì˜ˆì‹œ: \"ë‚´ê°€ ì•ˆ ì½ì€ ì±„íŒ… ìš”ì•½í•´ì¤˜\", \"ë‚˜ ì±„íŒ… ë­ì™”ì–´?\", \"ë‚´ ì±„íŒ… ì½ì–´ì£¼ë¼\" ë“±\n\n- HISTORY_REQUEST (ì´ì „ ëŒ€í™” ë‚´ìš©ì— ëŒ€í•œ ì¶”ê°€ ì§ˆë¬¸)  \n  ì˜ˆì‹œ: \"ê±°ê¸°ì„œ ì„¤ëª… ì¢€ ë” ìžì„¸ížˆ ë§í•´ì¤˜\", \"ê·¸ í”„ë¡œì íŠ¸ ë‹¤ì‹œ ë§í•´ì¤˜\", \"ë°©ê¸ˆ ê·¸ ë‚´ìš©ì—ì„œ ì¼ì • ì•Œë ¤ì¤˜\"  \n  â†’ ë§Œì•½ í˜„ìž¬ ìš”ì²­ì´ ì§ì „ í˜¹ì€ ê³¼ê±° ëŒ€í™”(`history`) ë‚´ìš©ì— ëŒ€í•œ í›„ì† ì§ˆë¬¸, ìˆ˜ì • ìš”ì²­, ë˜ëŠ” ëŒ€ëª…ì‚¬(ê·¸ê±°, ê±°ê¸°, ë°©ê¸ˆ ë“±)ë¡œ ê³¼ê±° ì‘ë‹µì„ ì°¸ì¡°í•˜ëŠ” ê²½ìš°ë¼ë©´ ì´ ì¸í…íŠ¸ë¥¼ ì„ íƒí•´.\n\n- REGISTER_SCHEDULE (ê°œì¸ ì¼ì • ë“±ë¡)\n  ì˜ˆì‹œ: \"ë‚˜ ì¼ì • ë“±ë¡í• ëž˜\", \"ë‚˜ ë‹¤ìŒì£¼ ì›”ìš”ì¼ì— ì¼ì • ë“±ë¡í•´ì¤˜\", \"ë‚˜ ë‹¤ìŒì£¼ ì›”ìš”ì¼ì— ì¹˜ê³¼ 3ì‹œì— ê°€ì•¼ë¼\", \"ë‚˜ 11.09ë¶€í„° 11.11ê¹Œì§€ íœ´ê°€ì•¼\", \"ë‚˜ 11.09ì— ì¹˜ê³¼ ì¼ì •ìžˆì–´. todoë¡œ í•´ì£¼ê³  ì¦ê²¨ì°¾ê¸° ì¼œì£¼ê³ , ê³µìœ ì¼ì •ì—ëŠ” ë“±ë¡ ì•ˆí• ê±°ì•¼.\"\n  ì´ ê²½ìš°ì—ëŠ” inputìœ¼ë¡œ ë°›ì€ todayê°’ì„ ë¬´ì¡°ê±´ í¬í•¨í•´ì„œ ì „ë‹¬í•´ì¤˜ì•¼ ë¼. ì¼ì •ì´ë‚˜ ì•½ì†, ê°œì¸ todoë“±ì„ ì¶”ê°€ í˜¹ì€ ë“±ë¡í•´ë‹¬ë¼ê³  í•˜ê±°ë‚˜, ê·¸ëŸ° ë‰˜ì•™ìŠ¤ë¡œ ë§í•œ ê²½ìš°ì—ëŠ” ì´ ì¸í…íŠ¸ë¥¼ ì„ íƒí•´.\n\n- JUST_CHAT (ìœ„ 4ê°€ì§€ì— í•´ë‹¹í•˜ì§€ ì•Šìœ¼ë©´ ì¼ë°˜ ëŒ€í™”)\n\nì¶œë ¥ í˜•ì‹(ì˜ˆì‹œ):\n{\n  \"intent\": \"TASK_LIST\",\n  \"entities\": {\n    \"projectName\": \"ê¸°ì•„ìžë™ì°¨1\",\n    \"workspaceId\": \"ws_1\",\n    \"userId\": \"d74137b2-f48b-4296-89d2-bbd0ea67108d\",\n    \"userName\": \"hong1\",\n    \"today\": \"2025-10-15T00:00:00\",\n    \"endTime\": \"2025-10-17T00:00:00\"\n  },\n  \"confidence\": 0.95,\n  \"content\": \"ë‚´ì¼ í•  ì¼ ë­ì•¼?\"\n}\n\nì£¼ì˜:\ncontentëŠ” ë¬´ìŠ¨ ì¼ì´ ìžˆì–´ë„ ê°€ê³µí•˜ì§€ë§ê³ , ê·¸ëŒ€ë¡œ ì „ë‹¬ í•´.\n\nendTime ê·œì¹™:\n1. ë°˜ë“œì‹œ í‚¤ ì´ë¦„ì€ \"endTime\"ìœ¼ë¡œ ì¨.\n2. endTimeì€ ISO í˜•ì‹(\"YYYY-MM-DDTHH:mm:ss\")ìœ¼ë¡œ.\n3. ë‚ ì§œ ê³„ì‚°ì€ {{ $json.today }}ì™€ {{ $json.timezone }}ì„ ê¸°ì¤€ìœ¼ë¡œ.\n4. ë‚ ì§œ í‘œí˜„ì´ ì—†ìœ¼ë©´ endTimeì€ 2125-01-01T00:00:00ìœ¼ë¡œ ì„¤ì • (ê·¸ëƒ¥ ì¡°ê±´ì—†ì´ í•  ì¼ ì•Œë ¤ë‹¬ë¼ê³  í•  ë•Œë„ í¬í•¨).\n5. ì„¤ëª… ì—†ì´ JSONë§Œ ë°˜í™˜í•´.\n\nì£¼ì˜:\ncontentëŠ” ë¬´ìŠ¨ ì¼ì´ ìžˆì–´ë„ ê°€ê³µí•˜ì§€ë§ê³ , ê·¸ëŒ€ë¡œ ì „ë‹¬ í•´.\n\në‹¤ìŒì€ ì‚¬ìš©ìž ìž…ë ¥ê³¼ ì»¨í…ìŠ¤íŠ¸ì•¼:\n{{ $json.text }}",
        "messages": {
          "messageValues": [
            {
              "type": "HumanMessagePromptTemplate",
              "message": "={{ $json.text }}"
            }
          ]
        },
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        -928,
        496
      ],
      "id": "09bb4a6b-7d82-4382-bb0d-23e819827f41",
      "name": "Basic LLM Chain28"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {
          "responseFormat": "json_object"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -928,
        688
      ],
      "id": "ac58669f-3e5c-4b9d-967a-3290bd0a2674",
      "name": "OpenAI Chat Model28",
      "credentials": {
        "openAiApi": {
          "id": "r0ak0npkQLwTkh7e",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "url": "=http://host.docker.internal:8080/workspace-service/chatbot/task-list",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "workspaceId",
              "value": "={{ $json.entities.workspaceId }}"
            },
            {
              "name": "userId",
              "value": "={{ $json.entities.userId }}"
            },
            {
              "name": "endTime",
              "value": "={{ $json.entities.endTime }}"
            }
          ]
        },
        "sendBody": true,
        "contentType": "form-urlencoded",
        "bodyParameters": {
          "parameters": [
            {}
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -176,
        384
      ],
      "id": "904cabcc-dfc4-4f41-9702-0a267b3e18ca",
      "name": "HTTP Request13",
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "ë„ˆëŠ” ì¼ì • ìš”ì•½ ë„ìš°ë¯¸ì•¼.\nì•„ëž˜ì— ì—¬ëŸ¬ ì¢…ë¥˜ì˜ ì¼ì • ë¬¸ìžì—´(Task, ê°œì¸ì¼ì •, Todo)ì´ í•¨ê»˜ ì£¼ì–´ì§ˆ ê±°ì•¼.\n\nê° í•­ëª©ì€ ë‹¤ìŒê³¼ ê°™ì€ í˜•íƒœë¡œ êµ¬ì„±ë˜ì–´ ìžˆì–´:\nTask: â€œìž‘ì—…ëª…, ë§Œë£Œê¸°í•œ: yyyy-MM-ddTHH:mm:ssâ€\nê°œì¸ì¼ì •: â€œì œëª©, ì‹œìž‘ì‹œê°„: yyyy-MM-ddTHH:mm, ì¢…ë£Œì‹œê°„: yyyy-MM-ddTHH:mmâ€\nTodo: â€œìž‘ì—…ëª…, ë§Œë£Œê¸°í•œ: yyyy-MM-ddTHH:mm:ssâ€\n\nì¶œë ¥ ê·œì¹™:\nTask, ê°œì¸ì¼ì •, Todoë¥¼ ê°ê° ë”°ë¡œ ë¬¶ì–´ì„œ ì¶œë ¥í•´.\nê° ì„¹ì…˜ì€ ì•„ëž˜ ìˆœì„œë¡œ ë‚˜ì—´í•´.\nðŸ§± Taskëª©ë¡\nðŸ—“ ê°œì¸ì¼ì •ëª©ë¡\nâœ… Todoëª©ë¡\nê° ëª©ë¡ ë‚´ë¶€ì—ì„œëŠ” ë‚ ì§œ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•´.\n\nTaskëŠ”\nâ†’ ðŸ“… yyyy-MM-dd (ìš”ì¼)\nâ†’ HH:mm â° ìž‘ì—…ëª… í˜•íƒœë¡œ í‘œì‹œí•´.\nê°œì¸ì¼ì •ì€\nâ†’ ðŸ“… yyyy-MM-dd (ìš”ì¼)\nâ†’ ðŸ•’ ì‹œìž‘ì‹œê°„ ~ ì¢…ë£Œì‹œê°„ : ì¼ì • ì œëª© í˜•íƒœë¡œ í‘œì‹œí•´.\nTodoëŠ”\nâ†’ ðŸ“… yyyy-MM-dd (ìš”ì¼)\nâ†’ â° ìž‘ì—…ëª… í˜•íƒœë¡œ í‘œì‹œí•´.\nTaskë‚˜ Todoê°€ ë¹„ì–´ ìžˆìœ¼ë©´\nâ†’ \"ìš”ì²­í•˜ì‹  ë‚ ì§œê¹Œì§€ í•  ì¼ì´ ì—†ìŠµë‹ˆë‹¤!\"\në¼ê³  ì¨ì¤˜.\n\nðŸ’¡âœ…â°ðŸ“…ðŸŽ¯ðŸ—“ ê°™ì€ ì´ëª¨í‹°ì½˜ì„ í™œìš©í•´ì„œ ë³´ê¸° ì¢‹ê²Œ ë§Œë“¤ì–´ì¤˜.\n\nTask, ê°œì¸ì¼ì •, Todo ì¤‘ í•˜ë‚˜ë¼ë„ ìžˆìœ¼ë©´ isSaveëŠ” trueë¡œ ë°˜í™˜í•´.\nì˜¤ë¥˜(statusMessage)ê°€ í¬í•¨ëœ ê²½ìš°ì—ëŠ”\nê·¸ ë©”ì‹œì§€ë§Œ ì‚¬ìš©ìžì—ê²Œ ìžì—°ìŠ¤ëŸ½ê²Œ ì „ë‹¬í•´.\nisSaveëŠ” falseë¡œ í•˜ê³  ê¸°ìˆ ì ì¸ ë‚´ìš©ì€ í¬í•¨í•˜ì§€ ë§ˆ.\n\nì˜ˆì™¸ ì²˜ë¦¬ ì˜ˆì‹œ:\nstatusMessageê°€ \"ì—†ëŠ” í”„ë¡œì íŠ¸ìž…ë‹ˆë‹¤.\" â†’ â— í•´ë‹¹ í”„ë¡œì íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ì–´ìš”.\nstatusMessageê°€ \"ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.\" â†’ ðŸ”’ ì ‘ê·¼ ê¶Œí•œì´ ì—†ì–´ìš”.\n\nì¶œë ¥ í˜•ì‹:\nì„±ê³µ ì‹œ\n{\n\"text\": \"ì •ë¦¬ëœ ì¼ì •í‘œ Markdown\",\n\"isSave\": true\n}\n\nì˜ˆì™¸ ì‹œ\n{\n\"text\": \"ì˜ˆì™¸ ë©”ì‹œì§€\",\n\"isSave\": false\n}\n\nìž…ë ¥ í˜•ì‹:\nì„±ê³µ ì‹œ: {{ $json.result }}\nì˜ˆì™¸ ì‹œ: {{ $json.error.message }}\n\nì¶œë ¥ ì˜ˆì‹œ:\nìž…ë ¥:\nTaskëª©ë¡:\në¡œê·¸ì¸ ê°œë°œ, ë§Œë£Œê¸°í•œ: 2025-11-11T15:00:00\nJWTí…ŒìŠ¤íŠ¸, ë§Œë£Œê¸°í•œ: 2025-11-12T16:00:00\nê°œì¸ì¼ì •ëª©ë¡:\níŒ€ íšŒì˜, ì‹œìž‘ì‹œê°„: 2025-11-03T10:00, ì¢…ë£Œì‹œê°„: 2025-11-03T11:00\nì½”ë“œ ë¦¬ë·°, ì‹œìž‘ì‹œê°„: 2025-11-05T14:00, ì¢…ë£Œì‹œê°„: 2025-11-06T15:00\nTodoëª©ë¡:\nì•½ë¨¹ê¸°, ë§Œë£Œê¸°í•œ: 2025-11-21T23:59:59\n\nì¶œë ¥:\nðŸ§± Taskëª©ë¡\nðŸ“… 2025-11-11 (í™”)\n15:00 â° ë¡œê·¸ì¸ ê°œë°œ\n\nðŸ“… 2025-11-12 (ìˆ˜)\n16:00 ðŸ’¡ JWTí…ŒìŠ¤íŠ¸\n\nðŸ—“ ê°œì¸ì¼ì •ëª©ë¡\nðŸ“… 2025-11-03 (ì›”) 10:00 ~\n2025-11-03 (ì›”) 11:00\nðŸ“ íŒ€ íšŒì˜\n\nðŸ“… 2025-11-05 (ìˆ˜) 14:00 ~\n2025-11-06 (ëª©) 15:00\nðŸ’» ì½”ë“œ ë¦¬ë·°\n\nâœ… Todoëª©ë¡\nðŸ“… 2025-11-21 (ê¸ˆ)\nðŸ’Š ì•½ë¨¹ê¸°",
        "messages": {
          "messageValues": [
            {
              "type": "HumanMessagePromptTemplate",
              "message": "={{ $json.result }}"
            },
            {
              "type": "HumanMessagePromptTemplate",
              "message": "={{ $json.error.message }}"
            }
          ]
        },
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        176,
        384
      ],
      "id": "fd2d666e-2a5c-4dd4-90dc-8bc9cf372450",
      "name": "Basic LLM Chain29"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        176,
        528
      ],
      "id": "81fca2cb-22b2-4f06-9a27-2383bf088245",
      "name": "OpenAI Chat Model29",
      "credentials": {
        "openAiApi": {
          "id": "r0ak0npkQLwTkh7e",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "url": "=http://host.docker.internal:8080/chat-service/chatbot/unread-messages",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "workspaceId",
              "value": "={{ $json.entities.workspaceId }}"
            },
            {
              "name": "userId",
              "value": "={{ $json.entities.userId }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -192,
        688
      ],
      "id": "6cfaddd7-01af-48a8-bcfc-b967c05d5f2f",
      "name": "HTTP Request14",
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "ë„ˆëŠ” 'ì½ì§€ ì•Šì€ ì±„íŒ… ìš”ì•½ ë„ìš°ë¯¸'ì•¼\nìž…ë ¥ìœ¼ë¡œ ë“¤ì–´ì˜¤ëŠ” í…ìŠ¤íŠ¸ì—ëŠ” ì—¬ëŸ¬ ê°œì˜ ì±„íŒ…ë°©ê³¼ ê·¸ ì•ˆì˜ ëŒ€í™” ë‚´ìš©ì´ í¬í•¨ë˜ì–´ ìžˆì–´.  \nì´ ë°ì´í„°ë¥¼ ì±„íŒ…ë°©ë³„ë¡œ ìš”ì•½í•˜ë˜, ì•„ëž˜ ê·œì¹™ì„ ì—„ê²©ížˆ ë”°ë¼ì¤˜.\n\n---\n\nðŸŽ¯ ì¶œë ¥ ê·œì¹™\n\n1. ì±„íŒ…ë°© ë‹¨ìœ„ë¡œ êµ¬ë¶„í•´ì„œ ì¶œë ¥í•´.  \n   í˜•ì‹:\n   [ì´ëª¨í‹°ì½˜ + ì±„íŒ…ë°© ì´ë¦„]\n\t\t(ìš”ì•½ ë‚´ìš©)\n2. ìš”ì•½ ë°©ì‹\n- ì‚¬ëžŒë³„ ë°œí™” ë‚´ìš©ì„ êµ¬ë¶„í•´ì„œ ìš”ì•½í•˜ë˜, ìžì—°ìŠ¤ëŸ½ê²Œ ì´ì–´ì§€ëŠ” ë¬¸ìž¥ìœ¼ë¡œ ì •ë¦¬.\n- ì˜ˆ:  \n  > ì€ì„±ì´ ì˜¤ëŠ˜ ë­ í•˜ëƒê³  ë¬»ìž, ë§¤ìŠ¹ì€ ë¬´í•œì„±(ê·€ì¹¼)ì„ ë³¼ ì˜ˆì •ì´ë¼ê³  ë§í–ˆê³ ,  \n  > ìœ ì •ì€ ê±°ê¸°ì— ë¼ê³  ì‹¶ë‹¤ê³  í–ˆë‹¤.\n- ì´ë¦„ì´ ì—¬ëŸ¬ ë²ˆ ë°˜ë³µë˜ë©´ ì ì ˆížˆ ë¬¶ì–´ì„œ ìš”ì•½í•´ë„ ì¢‹ì•„.\n\n3. ì±„íŒ…ë°© ì´ëª¨í‹°ì½˜ ê·œì¹™\n- ì´ë¦„ì´ë‚˜ ì„±ê²©ì— ë”°ë¼ ì ì ˆí•œ ì´ëª¨í‹°ì½˜ì„ ìžë™ìœ¼ë¡œ ë¶™ì—¬ì¤˜.  \n  ì˜ˆì‹œ:\n    - â€œê°œë°œíŒ€â€ â†’ ðŸ’»  \n    - â€œê¸°íšíŒ€â€ â†’ ðŸ§©  \n    - â€œë””ìžì¸íŒ€â€ â†’ ðŸŽ¨  \n    - â€œì˜ì—…íŒ€â€ â†’ ðŸ’¼  \n    - â€œë§ˆì¼€íŒ…â€ â†’ ðŸ“ˆ  \n    - ê·¸ ì™¸ëŠ” ì•Œì•„ì„œ ì‚¬ìš©\n\n4. ì˜ˆì™¸ ì²˜ë¦¬\n- ì „ì²´ ìž…ë ¥ì´ `\"ì±„íŒ…ë°©ì´ ì—†ìŠµë‹ˆë‹¤.\"` ë¼ë©´ â†’  \n  ðŸ‘‰ â€œì½ì§€ ì•Šì€ ì±„íŒ…ë°©ì´ ì—†ìŠµë‹ˆë‹¤. ðŸ˜Šâ€ ë¼ê³ ë§Œ ì¶œë ¥í•´.\n- íŠ¹ì • ì±„íŒ…ë°©ì´ `\"ì±„íŒ…ë°© ì´ë¦„: X\\nX: ì½ì§€ ì•Šì€ ì±„íŒ…ì´ ì—†ìŠµë‹ˆë‹¤.\"` ì¸ ê²½ìš° â†’  \n  ðŸ‘‰ í•´ë‹¹ ì±„íŒ…ë°©ì€ ì¶œë ¥ì—ì„œ ì œì™¸ (ì¦‰, ì•„ì˜ˆ ìš”ì•½í•˜ì§€ ë§ˆ).\n- ì¦‰, ì±„íŒ…ì´ 1ê°œë¼ë„ ìžˆëŠ” ì±„íŒ…ë°©ë§Œ ìš”ì•½í•´.\n\n5. ì¶œë ¥ì€ Markdown ì—†ì´ ì¼ë°˜ í…ìŠ¤íŠ¸ í˜•ì‹ìœ¼ë¡œ.\n\n---\n\n### ðŸ§¾ ì¶œë ¥ ì˜ˆì‹œ\n\nìž…ë ¥:\nì±„íŒ…ë°© ì´ë¦„: ê°œë°œíŒ€\nì€ì„± : ì˜¤ëŠ˜ ë­í•˜ëƒ?\në§¤ìŠ¹ : ë‚˜ ê·€ì¹¼ ë³¼ë“¯ ë¬´í•œì„±\nì€ì„± : ê·¸ê±° ê°œ ì¡´ìž¼íƒ±ìž„\nìœ ì •: ë‚˜ë„ê»´ì¤˜\nì±„íŒ…ë°© ì´ë¦„: ê¸°íšíŒ€\nhong1 : ë‚˜ ì•„ê¹Œ í”¼ìžìŠ¤ì¿¨ ë¨¹ì—ˆëŠ”ë° ì¡´ë§ˆíƒ±ì´ì—ˆìŠ´\nhong1 : ì œì¼ ë§›ìžˆì—ˆë˜ ë©”ë‰´ëŠ” ê³ êµ¬ë§ˆ í”¼ìž\nhong1 : ã„¹ã…‡ ì¸ìƒ ê³ êµ¬ë§ˆì˜€ëŠ”ë° ë„ˆ ë¨¹ì–´ë´„?\n\nì¶œë ¥:\nðŸ’» [ê°œë°œíŒ€]\nì€ì„±ì´ ì˜¤ëŠ˜ ë­í•˜ëƒê³  ë¬»ìž, ë§¤ìŠ¹ì€ ê·€ì¹¼ ë¬´í•œì„±ì„ ë³¼ ì˜ˆì •ì´ë¼ê³  í–ˆê³ ,\nì€ì„±ì€ ìž¬ë°Œë‹¤ê³  ë‹µí•˜ë©°, ìœ ì •ì€ í•¨ê»˜í•˜ê³  ì‹¶ë‹¤ê³  í–ˆë‹¤.\n\nðŸ§© [ê¸°íšíŒ€]\nhong1ì´ í”¼ìžìŠ¤ì¿¨ ê³ êµ¬ë§ˆ í”¼ìžë¥¼ ê·¹ì°¬í•˜ë©° ì¸ìƒ ë©”ë‰´ë¼ê³  ë§í–ˆë‹¤.\n\n\nâš ï¸ ì˜ˆì™¸ ì²˜ë¦¬ ê·œì¹™(ì˜¤ë¥˜):\nìž…ë ¥ ë°ì´í„°ì— `error` í•„ë“œê°€ í¬í•¨ë˜ì–´ ìžˆë‹¤ë©´,  \n`error.statusMessage` ë‚´ìš©ì„ ì‚¬ìš©ìžì—ê²Œ ì§ì ‘ ì „ë‹¬í•˜ë“¯ ê°„ë‹¨í•˜ê³  ê³µì†í•˜ê²Œ ì•ˆë‚´í•´ì¤˜.  \në¶ˆí•„ìš”í•œ ê¸°ìˆ  ì •ë³´(ìŠ¤íƒ, ì½”ë“œ ë“±)ëŠ” í¬í•¨í•˜ì§€ ë§ˆ.  \nì˜ˆ:  \n- statusMessageê°€ â€œì—†ëŠ” í”„ë¡œì íŠ¸ìž…ë‹ˆë‹¤.â€ â†’ â— í•´ë‹¹ í”„ë¡œì íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ì–´ìš”.  \n- statusMessageê°€ â€œê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.â€ â†’ ðŸ”’ ì ‘ê·¼ ê¶Œí•œì´ ì—†ì–´ìš”.  \n\nì¦‰, ì˜¤ë¥˜ ë°œìƒ ì‹œ statusMessageë§Œ ìžì—°ìŠ¤ëŸ½ê²Œ ë³€í™˜í•˜ì—¬ ì‚¬ìš©ìžì—ê²Œ ì•ˆë‚´í•˜ëŠ” ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ê³ ,  \nì •ìƒì ì¸ task ì •ë¦¬ëŠ” ìƒëžµí•´.\n\n---\n\nìž…ë ¥ í…ìŠ¤íŠ¸:\nì„±ê³µ ì‹œ: {{ $json.result }}\nì˜ˆì™¸ ì‹œ: {{ $json.error.message }}\n",
        "messages": {
          "messageValues": [
            {
              "type": "HumanMessagePromptTemplate",
              "message": "={{ $json.result }}"
            },
            {
              "type": "HumanMessagePromptTemplate",
              "message": "={{ $json.error.message }}"
            }
          ]
        },
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        160,
        688
      ],
      "id": "323b567f-8870-4234-b00b-5e8d27b8b032",
      "name": "Basic LLM Chain30"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        160,
        832
      ],
      "id": "1d24635c-33c7-4f04-84f2-6a837e92dd66",
      "name": "OpenAI Chat Model30",
      "credentials": {
        "openAiApi": {
          "id": "r0ak0npkQLwTkh7e",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "url": "=http://host.docker.internal:8080/workspace-service/chatbot/history",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "workspaceId",
              "value": "={{ $json.entities.workspaceId }}"
            },
            {
              "name": "userId",
              "value": "={{ $json.entities.userId }}"
            },
            {
              "name": "content",
              "value": "={{ $json.content }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -192,
        1008
      ],
      "id": "52001213-b0cb-477c-bdd4-1360b4f71eb7",
      "name": "HTTP Request15",
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "ë„ˆëŠ” 'í”„ë¡œì íŠ¸ ê´€ë¦¬ ë° ì¼ì • ìš”ì•½ ì‹œìŠ¤í…œ'ì˜ ëŒ€í™” ì–´ì‹œìŠ¤í„´íŠ¸ì•¼.\nì•„ëž˜ ìž…ë ¥ì—ëŠ” ì‚¬ìš©ìžì˜ ìµœì‹  ìš”ì²­ê³¼ ìµœê·¼ ëŒ€í™” ížˆìŠ¤í† ë¦¬ê°€ í•¨ê»˜ ì œê³µë¼.\n\nì—­í• :\nìµœì‹  ìš”ì²­(ì‚¬ìš©ìž ìš”ì²­:)ì€ ì´ë²ˆì— ì‚¬ìš©ìžê°€ í•œ ë§ì´ì•¼.\nHistory:ì—ëŠ” ê·¸ë™ì•ˆì˜ ë´‡ê³¼ ì‚¬ìš©ìž ëŒ€í™”ê°€ ë“¤ì–´ ìžˆì–´.\në„ˆì˜ ëª©í‘œëŠ” ì´ì „ ëŒ€í™”ì˜ ë§¥ë½ì„ ì´í•´í•´ì„œ,\nì‚¬ìš©ìžì˜ ìš”ì²­ì´ ë¬´ì—‡ì„ ì˜ë¯¸í•˜ëŠ”ì§€ íŒŒì•…í•˜ê³  ìžì—°ìŠ¤ëŸ½ê³  êµ¬ì²´ì ì¸ ë‹µë³€ì„ ë§Œë“¤ì–´ì£¼ëŠ” ê±°ì•¼.\n\nì²˜ë¦¬ ê·œì¹™:\në§¥ë½ íŒŒì•…\nì‚¬ìš©ìžì˜ ìš”ì²­ì´ ëª¨í˜¸í•˜ê±°ë‚˜ \"ê·¸ê±°\", \"ë°©ê¸ˆ\", \"ì´í•´ ëª»í–ˆì–´\" ë“±ì˜ í‘œí˜„ì„ í¬í•¨í•˜ë©´\në°˜ë“œì‹œ History ë‚´ìš©ì„ ì°¸ê³ í•´ì„œ ì‚¬ìš©ìžê°€ ê°€ë¦¬í‚¤ëŠ” ë‚´ìš©ì„ ì°¾ì•„ì•¼ í•´.\n\nì˜ˆë¥¼ ë“¤ì–´, ì§ì „ ë´‡ì˜ ë©”ì‹œì§€ê°€ í”„ë¡œì íŠ¸ ìš”ì•½ì´ì—ˆë‹¤ë©´,\n\"ì‰½ê²Œ ë‹¤ì‹œ ë§í•´ì¤˜\" â†’ ê·¸ í”„ë¡œì íŠ¸ ìš”ì•½ì„ ë” ì´í•´í•˜ê¸° ì‰½ê²Œ ë‹¤ì‹œ í’€ì–´ì„œ ì„¤ëª…í•´ì•¼ í•´.\n\në‹µë³€ êµ¬ì„±\në‚´ìš©ì€ ìžì—°ìŠ¤ëŸ½ê³  ì´í•´í•˜ê¸° ì‰½ê²Œ, í•µì‹¬ë§Œ ìš”ì•½í•´ì„œ ì „ë‹¬í•´.\nì–´ë ¤ìš´ ê¸°ìˆ  ìš©ì–´ë‚˜ ê¸´ ë¬¸ìž¥ì€ í”¼í•˜ê³ , í•µì‹¬ ìš”ì•½ + ì˜ˆì‹œ ì¤‘ì‹¬ìœ¼ë¡œ ë§í•´.\n\ní•„ìš”í•˜ë‹¤ë©´ ì´ëª¨í‹°ì½˜(ðŸ“Œ, ðŸ’¡, âœ…, ðŸ§©, âš™ï¸, ðŸ“… ë“±)ì„ ì„žì–´ì„œ ë³´ê¸° ì¢‹ê²Œ êµ¬ì„±í•´.\në¶ˆí•„ìš”í•œ ì„œë¡ ì´ë‚˜ \"ì•ˆë…•í•˜ì„¸ìš”\" ê°™ì€ ì¸ì‚¬ë§ì€ ìƒëžµí•´.\n\ní˜•ì‹\nê²°ê³¼ëŠ” ìˆœìˆ˜ í…ìŠ¤íŠ¸ í˜•íƒœë¡œë§Œ ë°˜í™˜í•´.\nMarkdown ì½”ë“œë¸”ë¡(markdown)ì´ë‚˜ JSON ê°™ì€ í¬ë§·ì€ ì ˆëŒ€ ì‚¬ìš©í•˜ì§€ ë§ˆ.\nì„¤ëª… ë¬¸ìž¥ì´ë‚˜ ë¶€ê°€ ì •ë³´ ì—†ì´, ì‚¬ìš©ìžì—ê²Œ ì „ë‹¬í•  ìµœì¢… ë©”ì‹œì§€ë§Œ ì¶œë ¥í•´.\n\nì—ëŸ¬ ì²˜ë¦¬\nìž…ë ¥ì— error í•„ë“œê°€ í¬í•¨ë˜ì–´ ìžˆë‹¤ë©´,\nerror.statusMessage ë‚´ìš©ì„ ì‚¬ìš©ìžì—ê²Œ ê³µì†í•˜ê²Œ ì•ˆë‚´í•˜ëŠ” ë¬¸ìž¥ìœ¼ë¡œ ë³€í™˜í•´.\nì˜ˆ: \"ì—†ëŠ” í”„ë¡œì íŠ¸ìž…ë‹ˆë‹¤.\" â†’ â— í•´ë‹¹ í”„ë¡œì íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ì–´ìš”.\nì˜ˆ: \"ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.\" â†’ ðŸ”’ ì ‘ê·¼ ê¶Œí•œì´ ì—†ì–´ìš”.\nê¸°ìˆ  ì •ë³´(ìŠ¤íƒ, ì½”ë“œ)ëŠ” í¬í•¨í•˜ì§€ ë§ˆ.\nì˜¤ë¥˜ê°€ ìžˆì„ ë•ŒëŠ” ížˆìŠ¤í† ë¦¬ ìš”ì•½ì´ë‚˜ ë‹¤ë¥¸ ì„¤ëª…ì€ ìƒëžµí•´.\n\nì¶œë ¥ ì˜ˆì‹œ:\nìž…ë ¥:\nì‚¬ìš©ìž ìš”ì²­: ë°©ê¸ˆ ë„ˆê°€ ë§í•œê±° ì´í•´ëª»í–ˆì–´. ì‰½ê²Œ ë‹¤ì‹œ ë§í•´ì¤˜\nHistory:\nBOT: ðŸ“Œ í”„ë¡œì íŠ¸ëª…: ê¸°ì•„ìžë™ì°¨\nðŸŽ¯ ëª©í‘œ: ì›Œí¬ìŠ¤íŽ˜ì´ìŠ¤ êµ¬ì¡° ê°œì„  ë° ê¶Œí•œ ì‹œìŠ¤í…œ ì•ˆì •í™”\nðŸ“ ì„¤ëª…: AccessGroupê³¼ AccessDetail ê¸°ë°˜ ê¶Œí•œ ê²€ì¦ ë¡œì§ ê°œì„ , ìŠ¤í†¤ ìžë™ ìƒì„± ê¸°ëŠ¥ ì¶”ê°€\nðŸ“ˆ ì§„í–‰ë„: 0%\nâ° ë§ˆê°ì¼: 2025-11-15 18:00\nðŸš€ ìƒíƒœ: ì§„í–‰ ì¤‘ (PROGRESS)\nUSER: ê¸°ì•„ìžë™ì°¨ í”„ë¡œì íŠ¸ ìš”ì•½í•´ì¤˜\n\nì¶œë ¥:\nðŸ“˜ ì‰½ê²Œ ì •ë¦¬í•˜ë©´ìš”,\nê¸°ì•„ìžë™ì°¨ í”„ë¡œì íŠ¸ëŠ” â€˜ì›Œí¬ìŠ¤íŽ˜ì´ìŠ¤ ê¶Œí•œ ê´€ë¦¬ êµ¬ì¡°â€™ë¥¼ ë” ì²´ê³„ì ìœ¼ë¡œ ë§Œë“œëŠ” ìž‘ì—…ì´ì—ìš”.\nì§€ê¸ˆì€ ì´ˆê¸° ë‹¨ê³„ê³ , ìžë™ìœ¼ë¡œ ìŠ¤í†¤ì„ ìƒì„±í•˜ê±°ë‚˜ ê¶Œí•œ ê²€ì‚¬ë¥¼ ë‹¨ìˆœí™”í•˜ëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€ ì¤‘ì´ì—ìš”. âš™ï¸\n\nìž…ë ¥ ë°ì´í„°:\nì„±ê³µ ì‹œ: {{ $json.result }}\nì˜ˆì™¸ ì‹œ: {{ $json.error.message }}",
        "messages": {
          "messageValues": [
            {
              "type": "HumanMessagePromptTemplate",
              "message": "={{ $json.result }}"
            },
            {
              "type": "HumanMessagePromptTemplate",
              "message": "={{ $json.error.message }}"
            }
          ]
        },
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        160,
        1008
      ],
      "id": "c929f10e-78b6-4923-87d8-4da43efd62db",
      "name": "Basic LLM Chain31"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        160,
        1152
      ],
      "id": "9b889e8f-3a4f-4d91-a08f-56da02bf8029",
      "name": "OpenAI Chat Model31",
      "credentials": {
        "openAiApi": {
          "id": "r0ak0npkQLwTkh7e",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "chatbot-agent/chat-summary",
        "responseMode": "lastNode",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        -1376,
        912
      ],
      "id": "5dfbf804-24d4-4e83-bc2c-787a06e8dbc8",
      "name": "ChatbotAgent8",
      "webhookId": "539f6a63-48f3-4cc9-8f15-f7f00a63e81e"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "ë„ˆëŠ” 'ì½ì§€ ì•Šì€ ì±„íŒ… ìš”ì•½ ë„ìš°ë¯¸'ì•¼\nìž…ë ¥ìœ¼ë¡œ ë“¤ì–´ì˜¤ëŠ” í…ìŠ¤íŠ¸ì—ëŠ” ì—¬ëŸ¬ ê°œì˜ ì±„íŒ…ë°©ê³¼ ê·¸ ì•ˆì˜ ëŒ€í™” ë‚´ìš©ì´ í¬í•¨ë˜ì–´ ìžˆì–´.  \nì´ ë°ì´í„°ë¥¼ ì±„íŒ…ë°©ë³„ë¡œ ìš”ì•½í•˜ë˜, ì•„ëž˜ ê·œì¹™ì„ ì—„ê²©ížˆ ë”°ë¼ì¤˜.\n\n---\n\nðŸŽ¯ ì¶œë ¥ ê·œì¹™\n1. ìš”ì•½ ë°©ì‹\n- ì‚¬ëžŒë³„ ë°œí™” ë‚´ìš©ì„ êµ¬ë¶„í•´ì„œ ìš”ì•½í•˜ë˜, ìžì—°ìŠ¤ëŸ½ê²Œ ì´ì–´ì§€ëŠ” ë¬¸ìž¥ìœ¼ë¡œ ì •ë¦¬.\n- ì˜ˆ:  \n  > ì€ì„±ì´ ì˜¤ëŠ˜ ë­ í•˜ëƒê³  ë¬»ìž, ë§¤ìŠ¹ì€ ë¬´í•œì„±(ê·€ì¹¼)ì„ ë³¼ ì˜ˆì •ì´ë¼ê³  ë§í–ˆê³ ,  \n  > ìœ ì •ì€ ê±°ê¸°ì— ë¼ê³  ì‹¶ë‹¤ê³  í–ˆë‹¤.\n- ì´ë¦„ì´ ì—¬ëŸ¬ ë²ˆ ë°˜ë³µë˜ë©´ ì ì ˆížˆ ë¬¶ì–´ì„œ ìš”ì•½í•´ë„ ì¢‹ì•„.\n2. ì±„íŒ…ë§ˆë‹¤ ì–´ë–¤ ì‚¬ëžŒì´ ë³´ë‚¸ì§€ ì •í™•ížˆ í™•ì¸í•˜ê³ , í•œ ì‚¬ëžŒì¼ ê²½ìš°, ì—¬ëŸ¬ ì‚¬ëžŒì´ ëŒ€í™”í•œ ê²ƒì²˜ëŸ¼ ìš”ì•½í•˜ì§€ ì•Šë„ë¡ ì£¼ì˜í•´ì¤˜.\n\n\n---\n\n### ðŸ§¾ ì¶œë ¥ ì˜ˆì‹œ\n\nìž…ë ¥:\nì€ì„± : ì˜¤ëŠ˜ ë­í•˜ëƒ?\në§¤ìŠ¹ : ë‚˜ ê·€ì¹¼ ë³¼ë“¯ ë¬´í•œì„±\nì€ì„± : ê·¸ê±° ê°œ ì¡´ìž¼íƒ±ìž„\nìœ ì •: ë‚˜ë„ê»´ì¤˜\n\nì¶œë ¥:\nì€ì„±ì´ ì˜¤ëŠ˜ ë­í•˜ëƒê³  ë¬»ìž, ë§¤ìŠ¹ì€ ê·€ì¹¼ ë¬´í•œì„±ì„ ë³¼ ì˜ˆì •ì´ë¼ê³  í–ˆê³ ,\nì€ì„±ì€ ìž¬ë°Œë‹¤ê³  ë‹µí•˜ë©°, ìœ ì •ì€ í•¨ê»˜í•˜ê³  ì‹¶ë‹¤ê³  í–ˆë‹¤.\n\n\nâš ï¸ ì˜ˆì™¸ ì²˜ë¦¬ ê·œì¹™(ì˜¤ë¥˜):\nìž…ë ¥ ë°ì´í„°ì— `error` í•„ë“œê°€ í¬í•¨ë˜ì–´ ìžˆë‹¤ë©´,  \n`error.statusMessage` ë‚´ìš©ì„ ì‚¬ìš©ìžì—ê²Œ ì§ì ‘ ì „ë‹¬í•˜ë“¯ ê°„ë‹¨í•˜ê³  ê³µì†í•˜ê²Œ ì•ˆë‚´í•´ì¤˜.  \në¶ˆí•„ìš”í•œ ê¸°ìˆ  ì •ë³´(ìŠ¤íƒ, ì½”ë“œ ë“±)ëŠ” í¬í•¨í•˜ì§€ ë§ˆ.  \nì˜ˆ:  \n- statusMessageê°€ â€œì—†ëŠ” í”„ë¡œì íŠ¸ìž…ë‹ˆë‹¤.â€ â†’ â— í•´ë‹¹ í”„ë¡œì íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ì–´ìš”.  \n- statusMessageê°€ â€œê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.â€ â†’ ðŸ”’ ì ‘ê·¼ ê¶Œí•œì´ ì—†ì–´ìš”.  \n\nì¦‰, ì˜¤ë¥˜ ë°œìƒ ì‹œ statusMessageë§Œ ìžì—°ìŠ¤ëŸ½ê²Œ ë³€í™˜í•˜ì—¬ ì‚¬ìš©ìžì—ê²Œ ì•ˆë‚´í•˜ëŠ” ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ê³ ,  \nì •ìƒì ì¸ task ì •ë¦¬ëŠ” ìƒëžµí•´.\n\n---\n\nìž…ë ¥ í…ìŠ¤íŠ¸:\nì„±ê³µ ì‹œ: {{ $json.text }}\nì˜ˆì™¸ ì‹œ: {{ $json.error.message }}\n",
        "messages": {
          "messageValues": [
            {
              "type": "HumanMessagePromptTemplate",
              "message": "={{ $json.text }}"
            },
            {
              "type": "HumanMessagePromptTemplate",
              "message": "={{ $json.error.message }}"
            }
          ]
        },
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        -912,
        912
      ],
      "id": "c0c99269-7af5-4bae-8155-c236a82c13ab",
      "name": "Basic LLM Chain32"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -912,
        1120
      ],
      "id": "e4a03da8-7d59-4f58-8946-61e84ab40bfd",
      "name": "OpenAI Chat Model32",
      "credentials": {
        "openAiApi": {
          "id": "r0ak0npkQLwTkh7e",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const results = [];\n\nfor (const item of $input.all()) {\n  const body = item.json.body || {};\n  const content = body.content || \"\";\n\n  const text = \n`${content}`;\n\n  // âœ… ì˜¤ì§ text ë¬¸ìžì—´ë§Œ ë°˜í™˜í•˜ë„ë¡ ë³´ìž¥\n  results.push({ json: { text } });\n}\n\nreturn results;\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1152,
        912
      ],
      "id": "420a4dbe-609f-406f-9797-da2cb5542b08",
      "name": "Code in JavaScript10"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "ë„ˆëŠ” ì¼ì • ë“±ë¡ ë„ìš°ë¯¸ì•¼.\nìž…ë ¥ìœ¼ë¡œ ì‚¬ìš©ìžì˜ ìžì—°ì–´ ìš”ì²­ì´ ë“¤ì–´ì˜¬ ê±°ì•¼.\nì´ ìš”ì²­ì—ì„œ ì¼ì • ë“±ë¡ì„ ìœ„í•œ ìš”ì†Œë¥¼ ìµœëŒ€í•œ ì¶”ì¶œí•´ì•¼ í•´.\nì¶”ë¡  ê°€ëŠ¥í•œ ê°’ë§Œ ì±„ìš°ê³ , ì—†ëŠ” ê°’ì€ nullë¡œ ë°˜í™˜í•´.\nì„¤ëª… ë¬¸ìž¥ ì—†ì´ JSONë§Œ ë°˜í™˜í•´ì•¼ í•´.\n\nìž…ë ¥ ë°ì´í„°:\n{{ $json.content }}ëŠ” ì‚¬ìš©ìžì˜ ìžì—°ì–´ ìš”ì²­\nì˜¤ëŠ˜ ë‚ ì§œëŠ” {{ $json.entities.today }} ì´ë©°, ì´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ â€œì˜¤ëŠ˜â€, â€œë‚´ì¼â€, â€œë‹¤ìŒì£¼ ì›”ìš”ì¼â€ ë“± ìƒëŒ€ì  ë‚ ì§œ í‘œí˜„ì„ ê³„ì‚°í•´.\nê³„ì‚°ëœ ë‚ ì§œëŠ” ISO 8601 í˜•ì‹(YYYY-MM-DDTHH:mm:ss)ìœ¼ë¡œ ë°˜í™˜í•´ì•¼ í•´.\n\nì¶”ì¶œí•  ìš”ì†Œ ëª©ë¡:\ncalendarName : ì¼ì • ë‚´ìš© ë˜ëŠ” ì œëª©\nstartedAt, endedAt : ì¼ì • ì‹œìž‘/ì¢…ë£Œ ë‚ ì§œ ë˜ëŠ” ê¸°ê°„\në§Œì•½ í•˜ë£¨ ì¼ì •ì´ë©´ startedAtê³¼ endedAtì„ ê°™ì€ ë‚ ì§œë¡œ ì„¤ì •\nì‹œê°„ ì •ë³´ê°€ ìžˆìœ¼ë©´ í¬í•¨\ncalendarType : TODO, SCHEDULE ì¤‘ í•˜ë‚˜ (ì—†ìœ¼ë©´ null)\nbookmark : true ë˜ëŠ” false (ì—†ìœ¼ë©´ null)\nisShared : true ë˜ëŠ” false (ì—†ìœ¼ë©´ null)\nrepeatType : NONE, DAILY, WEEKLY, MONTHLY, YEARLY ì¤‘ í•˜ë‚˜\n\nì¶”ì¶œ ê·œì¹™:\n\nì‚¬ìš©ìžê°€ ë‚ ì§œë¥¼ êµ¬ì²´ì ìœ¼ë¡œ ë§í•˜ì§€ ì•Šì•˜ë‹¤ë©´ startedAtê³¼ endedAtì€ ì•„ëž˜ ê·œì¹™ìœ¼ë¡œ ë„£ì–´ì¤˜.\nê°œì¸ ì¼ì •: ì‹œìž‘ì¼ ê¸°ë³¸ê°’ì€ í˜„ìž¬ ì‹œê°, ì¢…ë£Œì¼ ê¸°ë³¸ê°’ì€ +1ì‹œê°„\nToDo: ë‚ ì§œ ê¸°ë³¸ê°’ì€ ì˜¤ëŠ˜ ë‚ ì§œ\n\nìƒëŒ€ì  í‘œí˜„(ì˜¤ëŠ˜, ë‚´ì¼, ì´ë²ˆ ì£¼ ê¸ˆìš”ì¼ ë“±)ì€ {{ $json.entities.today }} ê¸°ì¤€ìœ¼ë¡œ ê³„ì‚°í•´.\n\nì‹œê°„ ì •ë³´ê°€ ìžˆìœ¼ë©´ í¬í•¨í•´ (ì˜ˆ: 3ì‹œì— â†’ 15:00:00).\n\ncalendarTypeì€ TODOë¼ëŠ” ë§ì´ ìžˆìœ¼ë©´ TODOë¡œ, ë³„ ë§ ì—†ê±°ë‚˜ â€œì¼ì •â€, â€œíšŒì˜â€, â€œì•½ì†â€ ë“± ì¼ì • ê´€ë ¨ í‘œí˜„ì´ ìžˆìœ¼ë©´ SCHEDULEë¡œ í•´ì¤˜.\n\nbookmarkëŠ” â€œì¦ê²¨ì°¾ê¸°â€ë¼ëŠ” ë§ì´ ìžˆìœ¼ë©´ trueë¡œ í•´ì¤˜.\n(ë§Œì•½ â€œë§¤ì¼ ë¬´ì–¸ê°ˆ í•˜ê² ë‹¤â€ì²˜ëŸ¼ ë°˜ë³µ í‘œí˜„ì´ ìžˆìœ¼ë©´ ë¬´ì¡°ê±´ calendarType: TODO + bookmark: trueë¡œ í•´ì¤˜.)\n\nisSharedëŠ” â€œê³µìœ í•˜ê² ë‹¤â€, â€œíŒ€ì›ê³¼â€, â€œê°™ì´â€ ê°™ì€ í‘œí˜„ì´ ìžˆìœ¼ë©´ true, ë³„ ë§ ì—†ìœ¼ë©´ falseë¡œ í•´ì¤˜.\n\nrepeatTypeì€ ë‹¤ìŒ ê¸°ì¤€ìœ¼ë¡œ ì •í•´ì¤˜. ê¸°ì¤€ì´ ì—†ì„ ë•ŒëŠ” ë„ˆê°€ ì•Œì•„ì„œ íŒë‹¨í•´ì„œ ë°˜í™˜í•´ì¤˜.\nâ€œë§¤ì¼â€, â€œí•˜ë£¨ì— í•œ ë²ˆâ€, â€œë§¤ ì•„ì¹¨â€ â†’ DAILY\nâ€œë§¤ì£¼â€, â€œë§¤ì£¼ ì›”ìš”ì¼â€, â€œì£¼ë§ˆë‹¤â€ â†’ WEEKLY\nâ€œë§¤ì›”â€, â€œë§¤ë‹¬â€, â€œí•œ ë‹¬ì— í•œ ë²ˆâ€ â†’ MONTHLY\nâ€œë§¤ë…„â€, â€œí•´ë§ˆë‹¤â€, â€œìƒì¼â€, â€œê¸°ë…ì¼â€ â†’ YEARLY\n\nì‚¬ìš©ìžì˜ ìš”ì²­ì´ â€œì¼ì • ë“±ë¡í• ëž˜â€, â€œì¼ì • ì¶”ê°€í•´ì¤˜â€ ë“± ë‹¨ìˆœí•œ ì˜ë„ë¼ë©´ ì¼ì •ëª…ê³¼ ë‚ ì§œëŠ” nullë¡œ ë‘¬.\n\ntext í•„ë“œì—ëŠ” ì¶”ì¶œëœ ë‚´ìš©ë§Œ í™œìš©í•´ì„œ â€œì•Œê² ìŠµë‹ˆë‹¤. ~ì¼ì • ë“±ë¡ì„ ìœ„í•´ ë„ì™€ë“œë¦¬ê² ìŠµë‹ˆë‹¤â˜ºï¸â€ í˜•íƒœì˜ ë¬¸ìž¥ì„ ë§Œë“¤ì–´.\nì¼ì •ëª…ì´ ìžˆìœ¼ë©´ ì´ë¦„ì„ í¬í•¨í•˜ê³ , ë‚ ì§œê°€ ìžˆìœ¼ë©´ ìžì—°ìŠ¤ëŸ½ê²Œ í‘œí˜„ (â€œ10ì›” 18ì¼ ì¹˜ê³¼ ì¼ì • ë“±ë¡ì„ ë„ì™€ë“œë¦´ê²Œìš”â€).\nì•„ë¬´ ì •ë³´ë„ ì—†ìœ¼ë©´ â€œì¼ì • ë“±ë¡ì„ ìœ„í•´ ë„ì™€ë“œë¦¬ê² ìŠµë‹ˆë‹¤â˜ºï¸â€ë§Œ ì¶œë ¥.\n\nê¸°ê°„ì´ë‚˜ ì‹œê°„ì´ ìžˆìœ¼ë©´ ë¬´ì¡°ê±´ SCHEDULE,\nê°„ë‹¨í•œ ì¼(ì˜ˆ: ì•½ë¨¹ê¸°, ì²´í¬ë¦¬ìŠ¤íŠ¸ ë“±)ì€ TODOë¡œ.\n\nTODOì¸ë° ì‹œê°„ì´ í¬í•¨ëœ ê²½ìš°, ì‹œê°„ì€ calendarNameì— í¬í•¨ë˜ê²Œ í•´ì¤˜. (ì˜ˆ: â€œ9ì‹œ ì•½ë¨¹ê¸°â€)\n\nì¶œë ¥ í˜•ì‹ (ë°˜ë“œì‹œ ë™ì¼í•˜ê²Œ ë”°ë¼ì•¼ í•¨):\n{\n\"text\": \"ì•Œê² ìŠµë‹ˆë‹¤. 11ì›” 9ì¼ ì¹˜ê³¼ ì¼ì • ë“±ë¡ì„ ìœ„í•´ ë„ì™€ë“œë¦¬ê² ìŠµë‹ˆë‹¤â˜ºï¸\",\n\"calendarName\": \"ì¹˜ê³¼\",\n\"startedAt\": \"2025-11-09T15:00:00\",\n\"endedAt\": \"2025-11-09T15:00:00\",\n\"calendarType\": \"TODO\",\n\"bookmark\": true,\n\"isShared\": false,\n\"repeatType\": \"NONE\"\n}\n\nì˜ˆì‹œ 1\nìž…ë ¥: \"ë‚˜ ë‹¤ìŒì£¼ ì›”ìš”ì¼ì— ì¹˜ê³¼ 3ì‹œì— ê°€ì•¼ë¼\"\nì¶œë ¥:\n{\n\"text\": \"ì•Œê² ìŠµë‹ˆë‹¤. ë‹¤ìŒì£¼ ì›”ìš”ì¼ 3ì‹œ ì¹˜ê³¼ ì¼ì • ë“±ë¡ì„ ìœ„í•´ ë„ì™€ë“œë¦¬ê² ìŠµë‹ˆë‹¤â˜ºï¸\",\n\"calendarName\": \"ì¹˜ê³¼\",\n\"startedAt\": \"2025-10-21T15:00:00\",\n\"endedAt\": \"2025-10-21T15:00:00\",\n\"calendarType\": \"SCHEDULE\",\n\"bookmark\": false,\n\"isShared\": false,\n\"repeatType\": \"NONE\"\n}\n\nì˜ˆì‹œ 2\nìž…ë ¥: \"ë‚˜ ì¼ì • ë“±ë¡í• ëž˜\"\nì¶œë ¥:\n{\n\"text\": \"ì•Œê² ìŠµë‹ˆë‹¤. ì¼ì • ë“±ë¡ì„ ìœ„í•´ ë„ì™€ë“œë¦¬ê² ìŠµë‹ˆë‹¤â˜ºï¸\",\n\"calendarName\": \"ë“±ë¡í•˜ì‹¤ ì¼ì •ì„ ìž…ë ¥í•˜ì„¸ìš”!\",\n\"startedAt\": \"ì˜¤ëŠ˜ë‚ ì§œ\",\n\"endedAt\": \"ì˜¤ëŠ˜ë‚ ì§œ + 1ì‹œê°„\",\n\"calendarType\": \"SCHEDULE\",\n\"bookmark\": false,\n\"isShared\": false,\n\"repeatType\": \"NONE\"\n}\n\nì˜ˆì‹œ 3\nìž…ë ¥: \"ë§¤ì¼ ì•„ì¹¨ 9ì‹œì— ì•½ë¨¹ì–´ì•¼ ë˜ëŠ”ê±° todo ë“±ë¡í•´ì¤˜\"\nì¶œë ¥:\n{\n\"text\": \"ì•Œê² ìŠµë‹ˆë‹¤. ì¼ì • ë“±ë¡ì„ ìœ„í•´ ë„ì™€ë“œë¦¬ê² ìŠµë‹ˆë‹¤â˜ºï¸\",\n\"calendarName\": \"ì˜¤ì „ 9ì‹œ ì•½ë¨¹ê¸°\",\n\"startedAt\": \"ì˜¤ëŠ˜ë‚ ì§œ\",\n\"endedAt\": \"ì˜¤ëŠ˜ë‚ ì§œ + 1ì‹œê°„\",\n\"calendarType\": \"TODO\",\n\"bookmark\": true,\n\"isShared\": false,\n\"repeatType\": \"DAILY\"\n}",
        "messages": {
          "messageValues": [
            {
              "type": "HumanMessagePromptTemplate",
              "message": "={{ $json.entities.content }}"
            },
            {
              "type": "HumanMessagePromptTemplate",
              "message": "={{ $json.entities.today }}"
            },
            {
              "type": "HumanMessagePromptTemplate",
              "message": "={{ $json.content }}"
            }
          ]
        },
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        -192,
        1312
      ],
      "id": "d3acf8b4-b7b6-4db4-ab4d-d6f6216bb355",
      "name": "Basic LLM Chain33"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -192,
        1456
      ],
      "id": "56b8cf4f-ceb3-477a-a05b-9f3cece26a55",
      "name": "OpenAI Chat Model33",
      "credentials": {
        "openAiApi": {
          "id": "r0ak0npkQLwTkh7e",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "return $input.all().map(item => {\n  // text í•„ë“œ ì•ˆì˜ ë¬¸ìžì—´ì„ êº¼ë‚´ê¸°\n  const rawText = item.json.text;\n\n  //  JSON ë¬¸ìžì—´ì„ ê°ì²´ë¡œ ë³€í™˜\n  const parsed = JSON.parse(rawText);\n\n  // ë³€í™˜ëœ JSON ê°ì²´ë¥¼ ë°˜í™˜\n  return { json: parsed };\n});\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        80,
        1312
      ],
      "id": "6d0da2dc-35b1-4ff1-9e0d-c612d82cdb4a",
      "name": "Code in JavaScript11"
    },
    {
      "parameters": {
        "jsCode": "return $input.all().map(item => {\n  // text í•„ë“œ ì•ˆì˜ ë¬¸ìžì—´ì„ êº¼ë‚´ê¸°\n  const rawText = item.json.text;\n\n  //  JSON ë¬¸ìžì—´ì„ ê°ì²´ë¡œ ë³€í™˜\n  const parsed = JSON.parse(rawText);\n\n  // ë³€í™˜ëœ JSON ê°ì²´ë¥¼ ë°˜í™˜\n  return { json: parsed };\n});\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        528,
        96
      ],
      "id": "c6975d47-773a-426e-8574-0451279a6e57",
      "name": "Code in JavaScript12"
    },
    {
      "parameters": {
        "jsCode": "return $input.all().map(item => {\n  // text í•„ë“œ ì•ˆì˜ ë¬¸ìžì—´ì„ êº¼ë‚´ê¸°\n  const rawText = item.json.text;\n\n  //  JSON ë¬¸ìžì—´ì„ ê°ì²´ë¡œ ë³€í™˜\n  const parsed = JSON.parse(rawText);\n\n  // ë³€í™˜ëœ JSON ê°ì²´ë¥¼ ë°˜í™˜\n  return { json: parsed };\n});\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        528,
        384
      ],
      "id": "b777c8b5-c735-4783-a887-9144e2818f4b",
      "name": "Code in JavaScript13"
    },
    {
      "parameters": {
        "jsCode": "return $input.all().map(item => {\n  // text í•„ë“œ ì•ˆì˜ ë¬¸ìžì—´ì„ êº¼ë‚´ê¸°\n  const rawText = item.json.text;\n\n  //  JSON ë¬¸ìžì—´ì„ ê°ì²´ë¡œ ë³€í™˜\n  const parsed = JSON.parse(rawText);\n\n  // ë³€í™˜ëœ JSON ê°ì²´ë¥¼ ë°˜í™˜\n  return { json: parsed };\n});\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        96,
        1616
      ],
      "id": "1382bf58-25b2-4cb4-af06-6105cb2af37c",
      "name": "Code in JavaScript16"
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "chatbot-agent/project-analyze",
        "responseMode": "lastNode",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        -1392,
        1392
      ],
      "id": "012c9df7-bf5a-413d-a421-9ae1b2271eae",
      "name": "ChatbotAgent",
      "webhookId": "539f6a63-48f3-4cc9-8f15-f7f00a63e81e"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "ë„ˆëŠ” í”„ë¡œì íŠ¸ ë°ì´í„° ë¶„ì„ê°€ì´ìž ì¼ì • ì˜ˆì¸¡ ì „ë¬¸ê°€ì•¼.  \nì•„ëž˜ JSON ë°ì´í„°ëŠ” í•œ í”„ë¡œì íŠ¸ì˜ ì§„í–‰ ìƒíƒœë¥¼ ìš”ì•½í•œ ê²ƒì´ì•¼.  \në°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë‹¤ìŒ ì„¸ ê°€ì§€ í•­ëª©ì„ **JSON í˜•ì‹ìœ¼ë¡œ** ë°˜í™˜í•´ì¤˜.  \nâš ï¸ ë‹¨, ì½”ë“œ ë¸”ë¡(````json` ë“±)ì´ë‚˜ ë¶ˆí•„ìš”í•œ ì„¤ëª… ì—†ì´ **ìˆœìˆ˜ JSON í…ìŠ¤íŠ¸ë§Œ** ë°˜í™˜í•´ì•¼ í•´.\n\n---\n\n### ðŸŽ¯ ë¶„ì„ ëª©í‘œ\n\n1ï¸âƒ£ **analysisReport (í…ìŠ¤íŠ¸í˜•)**  \n- ì•„ëž˜ ì˜ˆì‹œ í˜•ì‹ì²˜ëŸ¼ ìžì—°ìŠ¤ëŸ½ê³  ìƒì„¸í•œ í”„ë¡œì íŠ¸ ë¦¬í¬íŠ¸ë¥¼ ìž‘ì„±í•´ì¤˜.  \n- ì‹¤ì œ ì˜ˆì‹œëŠ” ë‹¤ìŒê³¼ ê°™ì•„ ðŸ‘‡  \n\"ðŸ“Š í”„ë¡œì íŠ¸ ë¶„ì„ ë¦¬í¬íŠ¸\nì§„í–‰ë¥ : 25% (4ê°œ íƒœìŠ¤í¬ ì¤‘ 1ê°œ ì™„ë£Œ)\ní‰ê·  ìž‘ì—… ì†ë„: 0.4ì¼/íƒœìŠ¤í¬\nìµœê·¼ ì†ë„ ë³€í™”: ë³€ë™ ì—†ìŒ (ë°ì´í„° ì—†ìŒ)\nì˜ˆìƒ ì™„ë£Œì¼: 2025-11-06 (í‰ê·  ìž‘ì—… ì†ë„ ê¸°ì¤€ ì˜ˆì¸¡)\nì¼ì • í‰ê°€: ì˜ˆì •ì¼(2025-12-05) ëŒ€ë¹„ ì•½ 1ê°œì›” - ë¹ ë¦„\nì£¼ìš” ë¦¬ìŠ¤í¬: ì§€ì—° ë° ìž¬ì˜¤í”ˆ íƒœìŠ¤í¬ ì—†ìŒ, íŒ€ì› ëª¨ë‘ í™œë™ ì¤‘ì´ë©° ìž‘ì—… ë¶„í¬ ê· ë“±\nì¢…í•© í‰ê°€: í”„ë¡œì íŠ¸ëŠ” í˜„ìž¬ ë§¤ìš° ì•ˆì •ì ì¸ ìƒíƒœìž…ë‹ˆë‹¤. í‰ê·  ìž‘ì—… ì†ë„ê°€ ë¹ ë¥´ë©°, ëª¨ë“  íŒ€ì›ì´ ì ê·¹ì ìœ¼ë¡œ ì°¸ì—¬í•˜ê³  ìžˆì–´ ì˜ˆì •ëœ ë§ˆê°ì¼ë³´ë‹¤ í›¨ì”¬ ì•žì„œ ì™„ë£Œë  ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤. ë‹¤ë§Œ, ë‚¨ì€ íƒœìŠ¤í¬ 3ê°œì˜ ë³µìž¡ë„ ë³€í™”ë‚˜ ì¶”ê°€ ë¦¬ìŠ¤í¬ ë°œìƒì—ëŠ” ì§€ì†ì ì¸ ëª¨ë‹ˆí„°ë§ì´ í•„ìš”í•©ë‹ˆë‹¤. í–¥í›„ì—ë„ í˜„ìž¬ì™€ ê°™ì€ ìž‘ì—… ì§‘ì¤‘ë„ ìœ ì§€ì™€ ì¼ì¼ ì§„ì²™ ì²´í¬ë¥¼ ê¶Œìž¥í•©ë‹ˆë‹¤.\"\n\n2ï¸âƒ£ **predictedCompletionTrend (ë¼ì¸ ê·¸ëž˜í”„ìš©)**  \n- ì˜ˆì¸¡ ì™„ë£Œì¼ ì‹ ë¢°ë„ ì¶”ì„¸ë¥¼ ë‚ ì§œë³„ë¡œ ìƒì„±í•´ì¤˜.  \n- ë‚ ì§œ(`YYYY-MM-DD`)ë³„ confidence(0~1)ë¥¼ 5~8ê°œ ì •ë„ í¬í•¨í•´.  \n- í‰ê·  ìž‘ì—… ì†ë„, ë‚¨ì€ íƒœìŠ¤í¬ ìˆ˜ ë“±ì„ ê³ ë ¤í•´ ì‹ ë¢°ë„ê°€ ì ì§„ì ìœ¼ë¡œ ìƒìŠ¹í•˜ëŠ” í˜•íƒœë¡œ êµ¬ì„±í•´ì•¼ í•´.\n\n3ï¸âƒ£ **riskFactors (ë¦¬ìŠ¤í¬ ë¶„ì„ìš©)**  \n- ë¦¬ìŠ¤í¬ ìš”ì¸ì„ 3~5ê°œ ì¶”ì¶œí•˜ê³ , ê° í•­ëª©ì— ëŒ€í•´ ìœ„í—˜ë„(`riskLevel`: 0~1)ë¥¼ ë¶€ì—¬í•´ì¤˜.  \n- ë¦¬ìŠ¤í¬ ìš”ì¸ì€ ì‹¤ì œ ë°ì´í„°ì—ì„œ ìœ ì¶” ê°€ëŠ¥í•œ ê°’ë§Œ í¬í•¨í•´.  \n  - delayedTasks > 0 â†’ \"ì§€ì—° íƒœìŠ¤í¬ ì¦ê°€\"  \n  - reopenedTasks > 0 â†’ \"ìž¬ì˜¤í”ˆ íƒœìŠ¤í¬ ë‹¤ìˆ˜\"  \n  - workloadDeviation > 0.3 â†’ \"ìž‘ì—… ë¶ˆê· í˜•\"  \n  - recentCompletionRate ê°ì†Œ â†’ \"ì²˜ë¦¬ì†ë„ ë‘”í™”\"\n\n---\n\n### âš™ï¸ ì¶œë ¥ í˜•ì‹ (JSONìœ¼ë¡œë§Œ ë°˜í™˜)\n\nì•„ëž˜ í˜•ì‹ì²˜ëŸ¼ ë°˜í™˜í•´.  \nâš ï¸ ì ˆëŒ€ ```json ë˜ëŠ” ì„¤ëª…ì„ ë¶™ì´ì§€ ë§ˆë¼.  \nJSONë§Œ ë‹¨ë…ìœ¼ë¡œ ì¶œë ¥í•´ì•¼ í•œë‹¤.\n\n{\n  \"analysisReport\": \"ðŸ“Š í”„ë¡œì íŠ¸ ë¶„ì„ ë¦¬í¬íŠ¸ ...\",\n  \"predictedCompletionTrend\": [\n    { \"date\": \"2025-11-05\", \"confidence\": 0.56 },\n    { \"date\": \"2025-11-12\", \"confidence\": 0.63 },\n    { \"date\": \"2025-11-19\", \"confidence\": 0.71 },\n    { \"date\": \"2025-11-26\", \"confidence\": 0.79 },\n    { \"date\": \"2025-12-03\", \"confidence\": 0.84 },\n    { \"date\": \"2025-12-10\", \"confidence\": 0.90 }\n  ],\n  \"riskFactors\": [\n    { \"factor\": \"ì§€ì—° íƒœìŠ¤í¬ ì¦ê°€\", \"riskLevel\": 0.7 },\n    { \"factor\": \"í‰ê·  ì²˜ë¦¬ì†ë„ ì €í•˜\", \"riskLevel\": 0.55 }\n  ]\n}\n\n---\n\në°ì´í„°:\n{{ $json.result }}\n\n---\n\nìž…ë ¥ í…ìŠ¤íŠ¸:\nì„±ê³µ ì‹œ â†’ {{ $json.text }}\nì˜ˆì™¸ ì‹œ â†’ {{ $json.error.message }}\n",
        "messages": {
          "messageValues": [
            {
              "type": "HumanMessagePromptTemplate",
              "message": "={{ $json.text }}"
            },
            {
              "type": "HumanMessagePromptTemplate",
              "message": "={{ $json.error.message }}"
            }
          ]
        },
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        -928,
        1392
      ],
      "id": "1442204e-0d87-4095-899d-c2fdbc5d40f4",
      "name": "Basic LLM Chain"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -928,
        1600
      ],
      "id": "d2373a23-47ca-405e-bd80-0668842ccc08",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "r0ak0npkQLwTkh7e",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const results = [];\n\nfor (const item of $input.all()) {\n  const json = item.json || {};\n  const body = json.body || {};\n\n  // ì—¬ëŸ¬ êµ¬ì¡° ì¤‘ ì¡´ìž¬í•˜ëŠ” ê³³ ì°¾ê¸°\n  const possibleRoots = [\n    body.result,\n    body[0]?.result,\n    json.result,\n    json[0]?.result,\n    body,\n    json,\n  ];\n\n  let result = possibleRoots.find(r => r && r.project) || {};\n\n  const project = result.project || {};\n  const progress = result.progress || {};\n  const team = result.team || {};\n  const context = result.context || {};\n\n  // currentDate ë°°ì—´ ë³€í™˜\n  let currentDate = project.currentDate;\n  if (Array.isArray(currentDate)) {\n    const [y, m, d, h, min, s] = currentDate;\n    currentDate = new Date(y, m - 1, d, h, min, s).toISOString();\n  }\n\n  const normalizedData = {\n    project: {\n      name: project.name || \"Unknown Project\",\n      startDate: project.startDate || null,\n      dueDate: project.dueDate || null,\n      currentDate: currentDate || new Date().toISOString(),\n    },\n    progress: {\n      totalTasks: progress.totalTasks ?? 0,\n      completedTasks: progress.completedTasks ?? 0,\n      remainingTasks: progress.remainingTasks ?? 0,\n      averageTaskCompletionTimeDays: progress.averageTaskCompletionTimeDays ?? 0,\n      recentCompletionRate: {\n        last7Days: progress.recentCompletionRate?.last7Days ?? 0,\n        last30Days: progress.recentCompletionRate?.last30Days ?? 0,\n      },\n      delayedTasks: progress.delayedTasks ?? 0,\n      reopenedTasks: progress.reopenedTasks ?? 0,\n    },\n    team: {\n      totalMembers: team.totalMembers ?? 0,\n      activeMembers: team.activeMembers ?? 0,\n      averageTasksPerMember: team.averageTasksPerMember ?? 0,\n      workloadDeviation: team.workloadDeviation ?? 0,\n    },\n    context: {\n      weekendsExcluded: context.weekendsExcluded ?? true,\n      holidays: context.holidays ?? null,\n      velocityChange: context.velocityChange ?? null,\n    },\n  };\n\n  // webhookUrl, executionMode íƒìƒ‰\n  const webhookUrl =\n    body.webhookUrl ||\n    body[0]?.webhookUrl ||\n    json.webhookUrl ||\n    json[0]?.webhookUrl ||\n    null;\n\n  const executionMode =\n    body.executionMode ||\n    body[0]?.executionMode ||\n    json.executionMode ||\n    json[0]?.executionMode ||\n    null;\n\n  const text = `\ní”„ë¡œì íŠ¸ ë°ì´í„° ë¶„ì„ ìš”ì²­ìž…ë‹ˆë‹¤.\n\n${JSON.stringify(normalizedData, null, 2)}\n\nwebhookUrl: ${webhookUrl}\nexecutionMode: ${executionMode || \"default\"}\n`;\n\n  results.push({ json: { text, normalizedData } });\n}\n\nreturn results;\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1168,
        1392
      ],
      "id": "ec0d0796-ebaf-4466-bebe-a836b9ef1b12",
      "name": "Code in JavaScript"
    },
    {
      "parameters": {
        "jsCode": "return $input.all().map(item => {\n  // text í•„ë“œ ì•ˆì˜ ë¬¸ìžì—´ì„ êº¼ë‚´ê¸°\n  const rawText = item.json.text;\n\n  //  JSON ë¬¸ìžì—´ì„ ê°ì²´ë¡œ ë³€í™˜\n  const parsed = JSON.parse(rawText);\n\n  // ë³€í™˜ëœ JSON ê°ì²´ë¥¼ ë°˜í™˜\n  return { json: parsed };\n});\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -560,
        1392
      ],
      "id": "cdc24c03-9861-48d6-9d75-3ae4d9a81ac4",
      "name": "Code in JavaScript14"
    }
  ],
  "connections": {
    "OpenAI Chat Model26": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain26",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Basic LLM Chain26": {
      "main": [
        [
          {
            "node": "Code in JavaScript16",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript9": {
      "main": [
        [
          {
            "node": "Basic LLM Chain28",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ChatbotAgent7": {
      "main": [
        [
          {
            "node": "Code in JavaScript9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch6": {
      "main": [
        [
          {
            "node": "HTTP Request12",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "HTTP Request13",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "HTTP Request14",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "HTTP Request15",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Basic LLM Chain33",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Basic LLM Chain26",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model27": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain27",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Basic LLM Chain27": {
      "main": [
        [
          {
            "node": "Code in JavaScript12",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request12": {
      "main": [
        [
          {
            "node": "Basic LLM Chain27",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Basic LLM Chain27",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Basic LLM Chain28": {
      "main": [
        [
          {
            "node": "Switch6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model28": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain28",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request13": {
      "main": [
        [
          {
            "node": "Basic LLM Chain29",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Basic LLM Chain29",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Basic LLM Chain29": {
      "main": [
        [
          {
            "node": "Code in JavaScript13",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model29": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain29",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request14": {
      "main": [
        [
          {
            "node": "Basic LLM Chain30",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Basic LLM Chain30",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model30": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain30",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request15": {
      "main": [
        [
          {
            "node": "Basic LLM Chain31",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Basic LLM Chain31",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model31": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain31",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "ChatbotAgent8": {
      "main": [
        [
          {
            "node": "Code in JavaScript10",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model32": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain32",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript10": {
      "main": [
        [
          {
            "node": "Basic LLM Chain32",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Basic LLM Chain33": {
      "main": [
        [
          {
            "node": "Code in JavaScript11",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model33": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain33",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "ChatbotAgent": {
      "main": [
        [
          {
            "node": "Code in JavaScript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Basic LLM Chain": {
      "main": [
        [
          {
            "node": "Code in JavaScript14",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript": {
      "main": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "pinData": {
    "HTTP Request15": [
      {
        "result": "ì‚¬ìš©ìž ìš”ì²­: ì•„ê¹Œ 10-23ë‚  ë­í•´ì•¼ í•œë‹¤ê³  í–ˆì—ˆì§€?\n\nHistory: \nBOT: ðŸ“… 2025-10-23 (ëª©)  \n18:00 ðŸ“„ ê¸°íš ë¬¸ì„œ ë§ˆë¬´ë¦¬í•˜ê¸°\n\nðŸ“… 2025-10-26 (ì¼)  \n18:00 âš™ï¸ ë°±ì—”ë“œ ê°œë°œ ëë‚´ê¸°\n\nðŸ“… 2025-10-27 (ì›”)  \n18:00 ðŸ§ª ë°±ì—”ë“œ ì½”ë“œ í…ŒìŠ¤íŠ¸\nUSER: ë‚˜ í• ì¼ ë­ìž‡ì–´?\nBOT: ðŸ“Œ í”„ë¡œì íŠ¸ëª…: ê¸°ì•„ìžë™ì°¨  \nðŸŽ¯ ëª©í‘œ: ì›Œí¬ìŠ¤íŽ˜ì´ìŠ¤ êµ¬ì¡° ê°œì„  ë° ê¶Œí•œ ì‹œìŠ¤í…œ ì•ˆì •í™”  \nðŸ“ ì„¤ëª…: AccessGroupê³¼ AccessDetail ê¸°ë°˜ ê¶Œí•œ ê²€ì¦ ë¡œì§ ê°œì„ , ìŠ¤í†¤ ìžë™ ìƒì„± ê¸°ëŠ¥ ì¶”ê°€  \nðŸ“ˆ ì§„í–‰ë„: 0%  \nâ° ë§ˆê°ì¼: 2025-11-15 18:00  \nðŸš€ ìƒíƒœ: ì§„í–‰ ì¤‘ (PROGRESS)\n\n---\nðŸ§© ìš”ì•½ í•œ ì¤„  \nê¶Œí•œ ê´€ë¦¬ ì²´ê³„ì™€ ì›Œí¬ìŠ¤íŽ˜ì´ìŠ¤ ê¸°ëŠ¥ì„ í•œì¸µ ê°•í™”í•˜ëŠ” ìž‘ì—…ì„ ë§‰ ì‹œìž‘í–ˆì–´ìš” ðŸš—âœ¨\n\n---\nUSER: ê¸°ì•„ìžë™ì°¨ í”„ë¡œì íŠ¸ ìš”ì•½í•´ì¤˜\nBOT: ì‹¬ì‹¬í•  ë•ŒëŠ” ì¢‹ì•„í•˜ëŠ” ìŒì•…ì„ ë“£ê±°ë‚˜ ì§§ì€ ì‚°ì±…ì„ í•´ë³´ëŠ” ê±´ ì–´ë–¨ê¹Œìš”? ìƒˆë¡œìš´ ì·¨ë¯¸ë¥¼ ì‹œìž‘í•´ë³´ëŠ” ê²ƒë„ ì¢‹ì€ ë°©ë²•ì´ëžë‹ˆë‹¤. í•¨ê»˜ ì¦ê±°ìš´ ì´ì•¼ê¸° ë‚˜ëˆ„ë©´ì„œ ì‹œê°„ì„ ë³´ë‚´ìš”!\nUSER: ì‹¬ì‹¬í•´\nBOT: ðŸ“Œ í”„ë¡œì íŠ¸ëª…: ê¸°ì•„ìžë™ì°¨  \nðŸŽ¯ ëª©í‘œ: ì›Œí¬ìŠ¤íŽ˜ì´ìŠ¤ êµ¬ì¡° ê°œì„  ë° ê¶Œí•œ ì‹œìŠ¤í…œ ì•ˆì •í™”  \nðŸ“ ì„¤ëª…: AccessGroup, AccessDetail ê¸°ë°˜ ê¶Œí•œ ê²€ì¦ ë¡œì§ ê°œì„ ê³¼ ìŠ¤í†¤ ìžë™ ìƒì„± ê¸°ëŠ¥ ì¶”ê°€  \nðŸ“ˆ ì§„í–‰ë„: 0%  \nâ° ë§ˆê°ì¼: 2025-11-15 18:00  \nðŸš€ ìƒíƒœ: ì§„í–‰ ì¤‘ (PROGRESS)\n\n---  \nðŸ§© ìš”ì•½ í•œ ì¤„  \nê¶Œí•œ ê²€ì¦ ì²´ê³„ ê³ ë„í™”ì™€ ìžë™í™” ê¸°ëŠ¥ ë„ìž…ìœ¼ë¡œ ì›Œí¬ìŠ¤íŽ˜ì´ìŠ¤ íš¨ìœ¨ì„ ë†’ì´ê³  ìžˆì–´ìš” ðŸ’ª\nUSER: ê¸°ì•„ìžë™ì°¨ í”„ë¡œì íŠ¸ ìš”ì•½í•´ì¤˜\n",
        "statusCode": 200,
        "statusMessage": "chatbot message ëª©ë¡ ì¡°íšŒ ì„±ê³µ"
      }
    ],
    "Basic LLM Chain": [
      {
        "text": "{\n  \"analysisReport\": \"ðŸ“Š í”„ë¡œì íŠ¸ ë¶„ì„ ë¦¬í¬íŠ¸\\nì§„í–‰ë¥ : ì•½ 65.6% (128ê°œ íƒœìŠ¤í¬ ì¤‘ 84ê°œ ì™„ë£Œ)\\ní‰ê·  ìž‘ì—… ì†ë„: 1.8ì¼/íƒœìŠ¤í¬\\nìµœê·¼ ì†ë„ ë³€í™”: ì•½ê°„ ì¦ê°€ ì¶”ì„¸\\nì˜ˆìƒ ì™„ë£Œì¼: 2025-11-29 (í‰ê·  ìž‘ì—… ì†ë„ ê¸°ì¤€ ì˜ˆì¸¡)\\nì¼ì • í‰ê°€: ì˜ˆì •ì¼(2025-12-05) ëŒ€ë¹„ ì•½ 6ì¼ ì—¬ìœ  ìžˆìŒ\\nì£¼ìš” ë¦¬ìŠ¤í¬: ì§€ì—° íƒœìŠ¤í¬ 5ê°œ, ìž¬ì˜¤í”ˆ íƒœìŠ¤í¬ 3ê°œ ì¡´ìž¬, ìž‘ì—… ë¶„í¬ëŠ” ë¹„êµì  ê· ë“± (íŽ¸ì°¨ 0.27), íŒ€ì› 9ëª… í™œë°œížˆ í™œë™ ì¤‘\\nì¢…í•© í‰ê°€: í”„ë¡œì íŠ¸ëŠ” ì „ì²´ì ìœ¼ë¡œ ì•ˆì •ì ì¸ ì§„í–‰ ìƒí™©ì„ ë³´ì´ê³  ìžˆìŠµë‹ˆë‹¤. ì§„í–‰ë¥ ê³¼ í‰ê·  ìž‘ì—… ì†ë„, ìµœê·¼ ì†ë„ ì¦ê°€ ì¶”ì„¸ë¥¼ ê³ ë ¤í•  ë•Œ, ì˜ˆì •ëœ ë§ˆê°ì¼ë³´ë‹¤ ì•½ê°„ ë¹ ë¥¸ ì™„ë£Œê°€ ê¸°ëŒ€ë©ë‹ˆë‹¤. ë‹¤ë§Œ ì§€ì—° ë° ìž¬ì˜¤í”ˆ íƒœìŠ¤í¬ê°€ ì¼ë¶€ ìžˆì–´ ì´ë“¤ì— ëŒ€í•œ ì§‘ì¤‘ ê´€ë¦¬ê°€ í•„ìš”í•˜ë©°, ìž‘ì—… ë¶„í¬ë„ ë¹„êµì  ê· ë“±í•˜ì§€ë§Œ íŽ¸ì°¨ê°€ ì¡´ìž¬í•´ íŠ¹ì • íŒ€ì›ì˜ ìž‘ì—… ê³¼ë¶€í•˜ ê°€ëŠ¥ì„±ë„ ì—¼ë‘ì— ë‘¬ì•¼ í•©ë‹ˆë‹¤. í–¥í›„ ì´ìŠˆ ê´€ë¦¬ë¥¼ í†µí•´ ì¼ì • ì¤€ìˆ˜ë¥¼ ì´ì–´ê°€ì•¼ í•˜ê² ìŠµë‹ˆë‹¤.\",\n  \"predictedCompletionTrend\": [\n    { \"date\": \"2025-11-05\", \"confidence\": 0.55 },\n    { \"date\": \"2025-11-12\", \"confidence\": 0.65 },\n    { \"date\": \"2025-11-19\", \"confidence\": 0.72 },\n    { \"date\": \"2025-11-26\", \"confidence\": 0.80 },\n    { \"date\": \"2025-12-03\", \"confidence\": 0.88 },\n    { \"date\": \"2025-12-05\", \"confidence\": 0.90 }\n  ],\n  \"riskFactors\": [\n    { \"factor\": \"ì§€ì—° íƒœìŠ¤í¬ ì¦ê°€\", \"riskLevel\": 0.7 },\n    { \"factor\": \"ìž¬ì˜¤í”ˆ íƒœìŠ¤í¬ ë‹¤ìˆ˜\", \"riskLevel\": 0.5 }\n  ]\n}"
      }
    ],
    "Code in JavaScript": [
      {
        "text": "\ní”„ë¡œì íŠ¸ ë°ì´í„° ë¶„ì„ ìš”ì²­ìž…ë‹ˆë‹¤.\n\n{\n  \"project\": {\n    \"name\": \"ìŠ¤ë§ˆíŠ¸ ë°©ìœ„ í†µí•© í”Œëž«í¼\",\n    \"startDate\": \"2025-10-03T09:00:00\",\n    \"dueDate\": \"2025-12-05T18:00:00\",\n    \"currentDate\": \"2025-11-05T19:36:19.987Z\"\n  },\n  \"progress\": {\n    \"totalTasks\": 128,\n    \"completedTasks\": 84,\n    \"remainingTasks\": 44,\n    \"averageTaskCompletionTimeDays\": 1.8,\n    \"recentCompletionRate\": {\n      \"last7Days\": 14,\n      \"last30Days\": 52\n    },\n    \"delayedTasks\": 5,\n    \"reopenedTasks\": 3\n  },\n  \"team\": {\n    \"totalMembers\": 11,\n    \"activeMembers\": 9,\n    \"averageTasksPerMember\": 14.2,\n    \"workloadDeviation\": 0.27\n  },\n  \"context\": {\n    \"weekendsExcluded\": true,\n    \"holidays\": [\n      \"2025-10-09\",\n      \"2025-12-25\"\n    ],\n    \"velocityChange\": \"slightly increasing\"\n  }\n}\n\nwebhookUrl: null\nexecutionMode: default\n",
        "normalizedData": {
          "project": {
            "name": "ìŠ¤ë§ˆíŠ¸ ë°©ìœ„ í†µí•© í”Œëž«í¼",
            "startDate": "2025-10-03T09:00:00",
            "dueDate": "2025-12-05T18:00:00",
            "currentDate": "2025-11-05T19:36:19.987Z"
          },
          "progress": {
            "totalTasks": 128,
            "completedTasks": 84,
            "remainingTasks": 44,
            "averageTaskCompletionTimeDays": 1.8,
            "recentCompletionRate": {
              "last7Days": 14,
              "last30Days": 52
            },
            "delayedTasks": 5,
            "reopenedTasks": 3
          },
          "team": {
            "totalMembers": 11,
            "activeMembers": 9,
            "averageTasksPerMember": 14.2,
            "workloadDeviation": 0.27
          },
          "context": {
            "weekendsExcluded": true,
            "holidays": [
              "2025-10-09",
              "2025-12-25"
            ],
            "velocityChange": "slightly increasing"
          }
        }
      }
    ]
  },
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "f6612d333669a2ec7aae468bfb6e6b7096d4dc3df0081e34092b4c38a46ef42a"
  }
}